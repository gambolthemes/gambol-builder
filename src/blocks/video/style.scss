/**
 * Gambol Video Block Styles
 *
 * @package GambolBuilder
 */

// =============================================
// VIDEO CONTAINER
// =============================================

.gambol-video {
	position: relative;
	width: 100%;
	border-radius: var(--gambol-video-radius, 8px);
	overflow: hidden;
	box-shadow: var(--gambol-video-shadow, none);
}

// =============================================
// VIDEO WRAPPER
// =============================================

.gambol-video__wrapper {
	position: relative;
	width: 100%;
	padding-bottom: var(--gambol-video-aspect, 56.25%);
	background-color: #000;

	iframe,
	video {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		border: 0;
		object-fit: cover;
	}
}

// =============================================
// POSTER IMAGE
// =============================================

.gambol-video__poster {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	object-fit: cover;
}

// =============================================
// OVERLAY
// =============================================

.gambol-video__overlay {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: var(--gambol-video-overlay, rgba(0, 0, 0, 0.3));
	pointer-events: none;
	transition: opacity 0.3s ease;
}

.gambol-video:hover .gambol-video__overlay {
	opacity: 0.7;
}

// =============================================
// PLAY BUTTON
// =============================================

.gambol-video__play {
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	display: flex;
	align-items: center;
	justify-content: center;
	width: var(--gambol-video-play-size, 80px);
	height: var(--gambol-video-play-size, 80px);
	background: var(--gambol-video-play-bg, rgba(0, 212, 170, 0.9));
	border-radius: 50%;
	cursor: pointer;
	transition: transform 0.3s ease, box-shadow 0.3s ease;
	z-index: 10;

	svg {
		width: 40%;
		height: 40%;
		fill: var(--gambol-video-play-color, #fff);
		margin-left: 5%; // Optical centering
	}

	.gambol-video:hover & {
		transform: translate(-50%, -50%) scale(1.1);
		box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
	}
}

// =============================================
// LIGHTBOX TRIGGER
// =============================================

.gambol-video__trigger {
	display: block;
	width: 100%;
	height: 100%;
	position: absolute;
	top: 0;
	left: 0;
	padding: 0;
	border: 0;
	background: none;
	cursor: pointer;

	&:focus-visible {
		outline: 2px solid #00d4aa;
		outline-offset: 2px;
	}
}

// =============================================
// PLACEHOLDER (EDITOR)
// =============================================

.gambol-video__placeholder {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	gap: 16px;
	background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
	color: rgba(255, 255, 255, 0.6);

	svg {
		width: 48px;
		height: 48px;
		opacity: 0.5;
	}

	p {
		margin: 0;
		font-size: 14px;
		text-align: center;
		padding: 0 20px;
	}
}

// =============================================
// LIGHTBOX STYLES
// =============================================

.gambol-video-lightbox {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: rgba(0, 0, 0, 0.95);
	display: flex;
	align-items: center;
	justify-content: center;
	z-index: 999999;
	opacity: 0;
	visibility: hidden;
	transition: opacity 0.3s ease, visibility 0.3s ease;

	&.is-open {
		opacity: 1;
		visibility: visible;
	}

	&__content {
		position: relative;
		width: 90%;
		max-width: 1200px;
	}

	&__wrapper {
		position: relative;
		padding-bottom: 56.25%;
		background: #000;

		iframe,
		video {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			border: 0;
		}
	}

	&__close {
		position: absolute;
		top: -40px;
		right: 0;
		display: flex;
		align-items: center;
		justify-content: center;
		width: 36px;
		height: 36px;
		background: rgba(255, 255, 255, 0.1);
		border: none;
		border-radius: 50%;
		color: #fff;
		font-size: 24px;
		cursor: pointer;
		transition: background 0.2s ease;

		&:hover {
			background: rgba(255, 255, 255, 0.2);
		}
	}
}

// =============================================
// RESPONSIVE
// =============================================

@media (max-width: 768px) {
	.gambol-video__play {
		width: calc(var(--gambol-video-play-size, 80px) * 0.75);
		height: calc(var(--gambol-video-play-size, 80px) * 0.75);
	}
}
