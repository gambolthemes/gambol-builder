!function(){"use strict";function t(t,e,n){const o=e[n];t.querySelector(".gambol-lightbox__content").innerHTML=`\n\t\t\t<img src="${o.url}" alt="${o.alt}" class="gambol-lightbox__image" />\n\t\t`;const a=t.querySelector(".gambol-lightbox__counter");a&&(a.textContent=`${n+1} / ${e.length}`)}function e(t,e){let n=document.querySelector("."+t);if(n)return n;const o=document.createElement("div");return o.className=t,o.setAttribute("role","dialog"),o.setAttribute("aria-modal","true"),o.innerHTML=`\n\t\t\t<button type="button" class="gambol-lightbox__close" aria-label="Close">&times;</button>\n\t\t\t${e?'\n\t\t\t\t<button type="button" class="gambol-lightbox__nav gambol-lightbox__nav--prev" aria-label="Previous">&#8249;</button>\n\t\t\t\t<button type="button" class="gambol-lightbox__nav gambol-lightbox__nav--next" aria-label="Next">&#8250;</button>\n\t\t\t':""}\n\t\t\t<div class="gambol-lightbox__content"></div>\n\t\t\t${e?'<div class="gambol-lightbox__counter"></div>':""}\n\t\t`,document.body.appendChild(o),o}function n(t){t.classList.add("is-open"),document.body.style.overflow="hidden",t.querySelector(".gambol-lightbox__close").focus()}function o(t){t.classList.remove("is-open"),document.body.style.overflow=""}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".gambol-accordion").forEach(function(t){const e="true"===t.dataset.allowMultiple;t.querySelectorAll(".gambol-accordion-item__header").forEach(function(n){n.addEventListener("click",function(){const n=this.closest(".gambol-accordion-item"),o=n.classList.contains("is-open"),a=n.querySelector(".gambol-accordion-item__body");e||o||t.querySelectorAll(".gambol-accordion-item.is-open").forEach(function(t){t.classList.remove("is-open"),t.querySelector(".gambol-accordion-item__header").setAttribute("aria-expanded","false"),t.querySelector(".gambol-accordion-item__body").hidden=!0}),n.classList.toggle("is-open"),this.setAttribute("aria-expanded",!o),a.hidden=o}),n.addEventListener("keydown",function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),this.click())})})}),document.querySelectorAll(".gambol-tabs").forEach(function(t){const e=t.querySelectorAll(".gambol-tabs__button"),n=t.querySelectorAll(".gambol-tabs__panel");e.forEach(function(t,o){t.addEventListener("click",function(){e.forEach(function(t){t.classList.remove("is-active"),t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","-1")}),n.forEach(function(t){t.classList.remove("is-active"),t.hidden=!0}),this.classList.add("is-active"),this.setAttribute("aria-selected","true"),this.setAttribute("tabindex","0");const t=this.getAttribute("aria-controls"),o=document.getElementById(t);o&&(o.classList.add("is-active"),o.hidden=!1)}),t.addEventListener("keydown",function(t){const n=Array.from(e).indexOf(this);let o=n;switch(t.key){case"ArrowLeft":case"ArrowUp":t.preventDefault(),o=n>0?n-1:e.length-1;break;case"ArrowRight":case"ArrowDown":t.preventDefault(),o=n<e.length-1?n+1:0;break;case"Home":t.preventDefault(),o=0;break;case"End":t.preventDefault(),o=e.length-1;break;default:return}e[o].click(),e[o].focus()})})}),function(){const t=document.querySelectorAll(".gambol-video--lightbox .gambol-video__trigger");if(!t.length)return;const a=e("gambol-video-lightbox");let r="";t.forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),r=this.dataset.videoUrl,r&&(a.querySelector(".gambol-lightbox__content").innerHTML=`\n\t\t\t\t\t\t<div class="gambol-video-lightbox__wrapper">\n\t\t\t\t\t\t\t<iframe src="${r}&autoplay=1" \n\t\t\t\t\t\t\t\ttitle="Video" \n\t\t\t\t\t\t\t\tallow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" \n\t\t\t\t\t\t\t\tallowfullscreen>\n\t\t\t\t\t\t\t</iframe>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`,n(a))})}),a.addEventListener("click",function(t){(t.target===this||t.target.closest(".gambol-lightbox__close"))&&(o(a),a.querySelector(".gambol-lightbox__content").innerHTML="")}),document.addEventListener("keydown",function(t){"Escape"===t.key&&a.classList.contains("is-open")&&(o(a),a.querySelector(".gambol-lightbox__content").innerHTML="")})}(),function(){const a=document.querySelectorAll(".gambol-gallery--lightbox");if(!a.length)return;const r=e("gambol-lightbox",!0);let i=[],l=0;a.forEach(function(e){const o=e.querySelectorAll(".gambol-gallery__link");o.forEach(function(e,a){e.addEventListener("click",function(e){e.preventDefault(),i=Array.from(o).map(function(t){return{url:t.href,alt:t.querySelector("img")?.alt||""}}),l=a,t(r,i,l),n(r)})})}),r.addEventListener("click",function(e){e.target.closest(".gambol-lightbox__nav--prev")?(l=l>0?l-1:i.length-1,t(r,i,l)):e.target.closest(".gambol-lightbox__nav--next")?(l=l<i.length-1?l+1:0,t(r,i,l)):(e.target===this||e.target.closest(".gambol-lightbox__close"))&&o(r)}),document.addEventListener("keydown",function(e){if(r.classList.contains("is-open"))switch(e.key){case"ArrowLeft":l=l>0?l-1:i.length-1,t(r,i,l);break;case"ArrowRight":l=l<i.length-1?l+1:0,t(r,i,l);break;case"Escape":o(r)}})}(),function(){const t=document.querySelectorAll(".gambol-counter");if(!t.length)return;const e=new IntersectionObserver(function(t){t.forEach(function(t){t.isIntersecting&&!t.target.dataset.animated&&(function(t){const e=t.querySelector(".gambol-counter__value");if(!e)return;const n=parseInt(t.dataset.start,10)||0,o=parseInt(t.dataset.end,10)||parseInt(e.dataset.value,10)||0,a=parseInt(t.dataset.duration,10)||2e3,r="true"===t.dataset.separator,i=performance.now(),l=o-n;requestAnimationFrame(function t(o){const c=o-i,s=Math.min(c/a,1),u=(b=s,1-Math.pow(1-b,3)),d=Math.round(n+l*u);var b,g;e.textContent=(g=d,r?g.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):g.toString()),s<1&&requestAnimationFrame(t)})}(t.target),t.target.dataset.animated="true")})},{threshold:.5,rootMargin:"0px"});t.forEach(function(t){e.observe(t)})}()})}();